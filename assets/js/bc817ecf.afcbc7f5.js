"use strict";(self.webpackChunk_1_relation_documentation=self.webpackChunk_1_relation_documentation||[]).push([[7430],{4275:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>o});var i=s(5893),l=s(1151);const d={},r="JSON Queries",t={id:"JSON/json-query",title:"JSON Queries",description:"Introduction",source:"@site/docs/JSON/json-query.md",sourceDirName:"JSON",slug:"/JSON/json-query",permalink:"/docs/JSON/json-query",draft:!1,unlisted:!1,editUrl:"https://github.com/1relation/1rel-documentation/tree/main/docs/JSON/json-query.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"JSON in FlowAgent",permalink:"/docs/JSON/json-intro-to-json"},next:{title:"JSON Actions",permalink:"/docs/JSON/json-actions"}},c={},o=[{value:"Introduction",id:"introduction",level:2},{value:"Constructing a Query",id:"constructing-a-query",level:2},{value:"JSON Example",id:"json-example",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Query Keys",id:"query-keys",level:3},{value:"Query Key Properties",id:"query-key-properties",level:4},{value:"JSON Example",id:"json-example-1",level:4},{value:"Query Operators",id:"query-operators",level:3},{value:"Operator Properties",id:"operator-properties",level:4},{value:"JSON Example",id:"json-example-2",level:4},{value:"Query Values",id:"query-values",level:3},{value:"Value Types",id:"value-types",level:4},{value:"JSON Example",id:"json-example-3",level:4},{value:"Replaceables",id:"replaceables",level:2},{value:"Query Combinations",id:"query-combinations",level:2},{value:"String Fields",id:"string-fields",level:3},{value:"JSON Example",id:"json-example-4",level:4},{value:"Number Fields",id:"number-fields",level:3},{value:"JSON Example",id:"json-example-5",level:4},{value:"Dropdown, Radio, and Checkbox Fields",id:"dropdown-radio-and-checkbox-fields",level:3},{value:"JSON Example",id:"json-example-6",level:4},{value:"Date Fields",id:"date-fields",level:3},{value:"JSON Example",id:"json-example-7",level:4},{value:"User Fields",id:"user-fields",level:3},{value:"JSON Example",id:"json-example-8",level:4},{value:"Module Item Type",id:"module-item-type",level:3},{value:"JSON Example",id:"json-example-9",level:4},{value:"Item ID",id:"item-id",level:3},{value:"JSON Example",id:"json-example-10",level:4},{value:"Module ID",id:"module-id",level:3},{value:"JSON Example",id:"json-example-11",level:4}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"json-queries",children:"JSON Queries"}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(n.p,{children:"JSON queries in FlowAgent facilitate structured data retrieval and management, enhancing efficiency and accuracy. This documentation elaborates on the construction and utilization of JSON queries, detailing the keys, operators, and values integral to formulating queries within FlowAgent."}),"\n",(0,i.jsx)(n.p,{children:"JSON queries are used in the following functionalities:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Action buttons"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Forms"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Widgets"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Power searches"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Apps that make use of queries"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"constructing-a-query",children:"Constructing a Query"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Identify the key you want to query against."}),"\n",(0,i.jsx)(n.li,{children:"Select the appropriate operator for comparison."}),"\n",(0,i.jsx)(n.li,{children:"Specify the value for comparison."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"json-example",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "query": [\n    ["cf151.string", "=", "abc"],\n    ["moduleitemtype_id", "=", 10]\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query returns items where the value of custom field ",(0,i.jsx)(n.code,{children:"cf151.string"}),' is exactly "abc", and the module item type id is exactly ',(0,i.jsx)(n.code,{children:"10"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,i.jsx)(n.p,{children:"Sure, here's the updated section with placeholders for the module IDs that the user should replace:"}),"\n",(0,i.jsx)(n.h3,{id:"query-keys",children:"Query Keys"}),"\n",(0,i.jsx)(n.p,{children:"Query keys are the attributes against which you want to filter or search data."}),"\n",(0,i.jsx)(n.h4,{id:"query-key-properties",children:"Query Key Properties"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Key"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"cfxxx.string"})}),(0,i.jsx)(n.td,{children:"Refers to a specific custom field."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"moduleitemtype_id"})}),(0,i.jsx)(n.td,{children:"Refers to items in a specific module item type."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"id"})}),(0,i.jsx)(n.td,{children:"Refers to the item ID."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"module_id"})}),(0,i.jsx)(n.td,{children:"Refers to items in a specific module."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"moduleXXMit.name"})}),(0,i.jsxs)(n.td,{children:["Refers to the name of a module item type within a specific module, where ",(0,i.jsx)(n.code,{children:"XX"})," should be replaced with the actual module ID."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"moduleYYItem.id"})}),(0,i.jsxs)(n.td,{children:["Refers to items related by a specific relation ID, where ",(0,i.jsx)(n.code,{children:"YY"})," should be replaced with the actual module ID."]})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-1",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "query": [\n    ["cf101.string", "=", "value"],\n    ["moduleitemtype_id", "=", 10],\n    ["id", "=", 123],\n    ["module_id", "=", 6],\n    ["moduleXXMit.name", "=", "Inspection project"],\n    ["moduleYYItem.id", "IS", "NULL"]\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This example demonstrates how to use different query keys to filter data based on specific attributes such as custom field values, module item types, item IDs, and module IDs. Replace ",(0,i.jsx)(n.code,{children:"XX"})," and ",(0,i.jsx)(n.code,{children:"YY"})," with the actual module IDs relevant to your configuration."]})}),"\n",(0,i.jsx)(n.h3,{id:"query-operators",children:"Query Operators"}),"\n",(0,i.jsx)(n.p,{children:"Query operators determine the type of comparison between the query key and the query value."}),"\n",(0,i.jsx)(n.h4,{id:"operator-properties",children:"Operator Properties"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"="})}),(0,i.jsx)(n.td,{children:"Value of custom field should be equal to specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"!="})}),(0,i.jsx)(n.td,{children:"Value of custom field should not be equal to specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:">"})}),(0,i.jsx)(n.td,{children:"Value of custom field should be greater than the specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<"})}),(0,i.jsx)(n.td,{children:"Value of custom field should be less than the specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:">="})}),(0,i.jsx)(n.td,{children:"Value of custom field should be greater than or equal to the specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"<="})}),(0,i.jsx)(n.td,{children:"Value of custom field should be less than or equal to the specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IN"})}),(0,i.jsx)(n.td,{children:"Value of custom field should be in the specified list of values."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NOT IN"})}),(0,i.jsx)(n.td,{children:"Value of custom field should not be in the specified list of values."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LIKE"})}),(0,i.jsx)(n.td,{children:"Value of custom field should partially match the specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NOT LIKE"})}),(0,i.jsx)(n.td,{children:"Value of custom field should not partially match the specified value."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"IS"})}),(0,i.jsx)(n.td,{children:"Checks if a value is NULL."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-2",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "query": [\n    ["cf101.string", "=", "value"],\n    ["cf101.string", "!=", "value"],\n    ["cf101.string", ">", 1000],\n    ["cf101.string", "<", 1000],\n    ["cf101.string", ">=", 1000],\n    ["cf101.string", "<=", 1000],\n    ["cf101.string", "IN", ["option_220", "option_221"]],\n    ["cf101.string", "NOT IN", ["option_220", "option_221"]],\n    ["cf101.string", "LIKE", "value"],\n    ["cf101.string", "NOT LIKE", "value"],\n    ["cf101.string", "IS", "NULL"]\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"query-values",children:"Query Values"}),"\n",(0,i.jsx)(n.p,{children:"Query values are the data or conditions against which the query keys are compared."}),"\n",(0,i.jsx)(n.h4,{id:"value-types",children:"Value Types"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Fixed Values"}),(0,i.jsx)(n.td,{children:"Text or numbers."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Options"}),(0,i.jsx)(n.td,{children:"Refers to a custom field value, use option IDs for dropdown fields."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Replaceables"}),(0,i.jsxs)(n.td,{children:["Used to query based on information from a specific location such as ",(0,i.jsx)(n.code,{children:"[itemid]"}),", ",(0,i.jsx)(n.code,{children:"[relationxxx]"}),", ",(0,i.jsx)(n.code,{children:"[datenow]"}),", ",(0,i.jsx)(n.code,{children:"[userid]"}),"."]})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-3",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "query": [\n    ["cf101.string", "=", "fixedValue"],\n    ["cf101.string", "=", "[datenow]"],\n    ["cf101.string", "=", "[userid]"]\n    ["id", "=", "[itemid]"],\n    ["id", "=", "[relation80]"],\n\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"replaceables",children:"Replaceables"}),"\n",(0,i.jsxs)(n.p,{children:["Replaceables are placeholders that can be replaced with specific values when constructing queries.\nRead more about them ",(0,i.jsx)(n.a,{href:"/docs/misc/replaceables",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"query-combinations",children:"Query Combinations"}),"\n",(0,i.jsx)(n.h3,{id:"string-fields",children:"String Fields"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use the exact string value in queries."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-4",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'["cf151.string", "=", "abc"]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query specifies that the value of custom field ",(0,i.jsx)(n.code,{children:"cf151.string"}),' should be exactly "abc".']})}),"\n",(0,i.jsx)(n.h3,{id:"number-fields",children:"Number Fields"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use the exact numeric value in queries."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-5",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'["cf152.string", ">", 9999]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query specifies that the value of custom field ",(0,i.jsx)(n.code,{children:"cf152.string"})," should be greater than 9999."]})}),"\n",(0,i.jsx)(n.h3,{id:"dropdown-radio-and-checkbox-fields",children:"Dropdown, Radio, and Checkbox Fields"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Always use the option ID in queries, not the display name."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-6",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'["cf153.string", "IN", ["option_220", "option_221", "option_222"]]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query specifies that the value of custom field ",(0,i.jsx)(n.code,{children:"cf153.string"})," should be in the specified list of values."]})}),"\n",(0,i.jsx)(n.h3,{id:"date-fields",children:"Date Fields"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Use the date in the "YYYY-MM-DD" format.'}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-7",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "query": [\n    ["cf154.string", ">=", "2023-01-01"],\n    ["cf154.string", "=", "[datenow]"],\n    ["cf154.string", "=", "[datetomorrow]"],\n    ["cf154.string", "=", "[dateyesterday]"],\n    ["cf154.string", "=", "[dateweek]"],\n    ["cf154.string", "=", "[datemonth]"]\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query specifies various date conditions for the custom field ",(0,i.jsx)(n.code,{children:"cf154.string"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"user-fields",children:"User Fields"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Use the "user_[id]" for a specific user.'}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-8",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "query": [\n    ["cf155.string", "=", "user_2"],\n    ["cf155.string", "=", "[userid]"]\n  ]\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query specifies that the value of custom field ",(0,i.jsx)(n.code,{children:"cf155.user"}),' should be equal to user id "user_2" or the current user id.']})}),"\n",(0,i.jsx)(n.h3,{id:"module-item-type",children:"Module Item Type"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Refers to items in a specific module item type."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-9",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'["moduleitemtype_id", "=", 10]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"This query specifies items in a specific module item type."})}),"\n",(0,i.jsx)(n.h3,{id:"item-id",children:"Item ID"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specifies that the item id should not be equal to a certain value."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-10",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'["id", "!=", 100]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["This query specifies that the item id should not be equal to ",(0,i.jsx)(n.code,{children:"100"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"module-id",children:"Module ID"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Specifies that the items should belong to one of the specified modules."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"json-example-11",children:"JSON Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'["module_id", "IN", [6, 7]]\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"This query specifies that the items should belong to one of the specified modules."})})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>t,a:()=>r});var i=s(7294);const l={},d=i.createContext(l);function r(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);