"use strict";(self.webpackChunk_1_relation_documentation=self.webpackChunk_1_relation_documentation||[]).push([[9937],{8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>d});var r=i(6540);const o={},t=r.createContext(o);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(t.Provider,{value:n},e.children)}},8767:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"modules/forms/components/endflow","title":"Endflow and Redirection","description":"The endflow component controls what happens when a form flow finishes\u2014such as redirecting the user to a specific page, item, or closing a modal. You can set endflow globally for the entire form or within a specific trigger.","source":"@site/docs/modules/forms/components/endflow.md","sourceDirName":"modules/forms/components","slug":"/modules/forms/components/endflow","permalink":"/docs/modules/forms/components/endflow","draft":false,"unlisted":false,"editUrl":"https://github.com/flowagentnu/1rel-documentation/tree/main/docs/modules/forms/components/endflow.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Triggers for Submit and Cancel","permalink":"/docs/modules/forms/components/pages/submit/triggers"},"next":{"title":"Import","permalink":"/docs/modules/import"}}');var o=i(4848),t=i(8453);const s={},d="Endflow and Redirection",l={},c=[{value:"When to Use",id:"when-to-use",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Default Behavior (If No Endflow Defined)",id:"default-behavior-if-no-endflow-defined",level:2},{value:"Global Endflow",id:"global-endflow",level:2},{value:"Trigger-Specific Endflow",id:"trigger-specific-endflow",level:2},{value:"Endflow Commands",id:"endflow-commands",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Redirect to Previous Page",id:"redirect-to-previous-page",level:3},{value:"Redirect to Dashboard",id:"redirect-to-dashboard",level:3},{value:"Redirect to Starting Item",id:"redirect-to-starting-item",level:3},{value:"Redirect to a Specific URI",id:"redirect-to-a-specific-uri",level:3},{value:"Redirect to a Specific Item by Key",id:"redirect-to-a-specific-item-by-key",level:3},{value:"Close Modal on Completion",id:"close-modal-on-completion",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"endflow-and-redirection",children:"Endflow and Redirection"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"endflow"})," component controls what happens when a form flow finishes\u2014such as redirecting the user to a specific page, item, or closing a modal. You can set ",(0,o.jsx)(n.code,{children:"endflow"})," globally for the entire form or within a specific trigger."]}),"\n",(0,o.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,o.jsxs)(n.p,{children:["Use ",(0,o.jsx)(n.code,{children:"endflow"})," to define what should happen after a form is completed, either for the whole form or for specific triggers (e.g., after a certain action)."]}),"\n",(0,o.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Global Endflow:"})," Placed at the root of the form JSON, applies to the entire form."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Trigger-Specific Endflow:"})," Placed inside a trigger, overrides the global endflow for that trigger."]}),"\n",(0,o.jsxs)(n.li,{children:["If no ",(0,o.jsx)(n.code,{children:"endflow"})," is set, the form will automatically choose an action (see Default Behavior)."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"default-behavior-if-no-endflow-defined",children:"Default Behavior (If No Endflow Defined)"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Redirect to the first predefined item in the Items Array (if available)."}),"\n",(0,o.jsx)(n.li,{children:"Redirect to a newly created item from the form's triggers."}),"\n",(0,o.jsx)(n.li,{children:"Redirect to the starting item (the item on which the form was initiated)."}),"\n",(0,o.jsx)(n.li,{children:"Redirect to the dashboard (fallback)."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"global-endflow",children:"Global Endflow"}),"\n",(0,o.jsx)(n.p,{children:"Define at the root of your form JSON. Applies to the entire form unless overridden by a trigger."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"redirect"}),": (string) The redirection target. See ",(0,o.jsx)(n.a,{href:"#endflow-commands",children:"Endflow Commands"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"redirect_uri"}),": (string) Used with ",(0,o.jsx)(n.code,{children:'redirect: "uri"'})," to specify a custom URI."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"closeModal"}),": (boolean) If true, closes the modal after form completion. Ignores other endflow commands."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "redirect": "item"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"This redirects the user to the starting item after form completion."}),"\n",(0,o.jsx)(n.h2,{id:"trigger-specific-endflow",children:"Trigger-Specific Endflow"}),"\n",(0,o.jsx)(n.p,{children:"Set inside a trigger to override the global endflow for that action."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"endflow"}),": (boolean) Ends the form when the trigger is activated."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"endflow_redirect"}),": (string) Redirection target for this trigger (see ",(0,o.jsx)(n.a,{href:"#endflow-commands",children:"Endflow Commands"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"closeModal"}),": (boolean) Closes the modal after this trigger. Ignores other endflow commands."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"relevantForItems"}),": (JSON Query) ",(0,o.jsx)(n.a,{href:"/docs/JSON/json-query",children:"See JSON Query"}),". Determines which items are relevant for the endflow. If not set, all items are considered relevant."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "submit": {\n    "triggers": [\n      {\n        "then": {\n          "endflow": true,\n          "endflow_redirect": "itemkey.item1"\n        }\n      }\n    ]\n  },\n  "endflow": {\n    "redirect": "uri",\n    "redirect_uri": "/item/12345"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["In this example, the trigger ends the form and redirects to ",(0,o.jsx)(n.code,{children:"item1"}),". The global endflow would redirect to a specific URI if the trigger is not used."]}),"\n",(0,o.jsx)(n.h2,{id:"endflow-commands",children:"Endflow Commands"}),"\n",(0,o.jsxs)(n.p,{children:["Use these values for ",(0,o.jsx)(n.code,{children:"redirect"})," or ",(0,o.jsx)(n.code,{children:"endflow_redirect"})," to control navigation:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"back"})}),": Return to the previous page (useful in multi-page forms)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"dashboard"})}),": Redirect to the dashboard (main menu)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"item"})}),": Redirect to the starting item (the item the form was started from)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"uri"})}),": Redirect to a custom URI (must set ",(0,o.jsx)(n.code,{children:"redirect_uri"}),"). Only available in global endflow."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"itemkey.[item]"})}),": Redirect to a specific item defined in the form's flow. Replace ",(0,o.jsx)(n.code,{children:"[item]"})," with the unique item key."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"closeModal"})}),": Close the modal after form completion (can be used as a property or as a command)."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,o.jsx)(n.h3,{id:"redirect-to-previous-page",children:"Redirect to Previous Page"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "redirect": "back"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"redirect-to-dashboard",children:"Redirect to Dashboard"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "redirect": "dashboard"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"redirect-to-starting-item",children:"Redirect to Starting Item"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "redirect": "item"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"redirect-to-a-specific-uri",children:"Redirect to a Specific URI"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "redirect": "uri",\n    "redirect_uri": "/specific-path"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"redirect-to-a-specific-item-by-key",children:"Redirect to a Specific Item by Key"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "redirect": "itemkey.newItem"\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"close-modal-on-completion",children:"Close Modal on Completion"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "endflow": {\n    "closeModal": true\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);